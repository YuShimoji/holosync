# 手動テスト手順（HoloSync）

このドキュメントは、HoloSyncの主要ユースケースを手動で確認するためのチェックリストです。

## 事前準備
- ブラウザ: 最新版の Chrome/Firefox/Edge/Safari
- ローカルサーバ（任意）: VS Code Live Server、または `python -m http.server 8080` 等
- 起動: ブラウザで `index.html` を開く（サーバ経由を推奨）

## テストケース
- [ ] 1. URL追加（正常）
  - 入力: `https://www.youtube.com/watch?v=dQw4w9WgXcQ`
  - 期待: プレイヤーが生成され、タイトルが表示される
- [ ] 2. URL追加（無効URL）
  - 入力: `https://example.com/invalid`
  - 期待: 「URLが無効です。YouTubeの動画URLを入力してください。」のエラー表示
- [ ] 3. 一括再生
  - 条件: 2つ以上の動画を追加
  - 操作: 「すべて再生」
  - 期待: 全プレイヤーが再生状態に遷移、同期監視が開始
- [ ] 4. 一括停止
  - 操作: 「すべて停止」
  - 期待: 全プレイヤーが停止、同期監視が停止
- [ ] 5. 手動同期
  - 操作: 一括操作セクションの「同期」ボタンをクリック
  - 期待: リーダープレイヤーの時刻に他の全プレイヤーがシークされる
- [ ] 6. 自動同期（再生開始時）
  - 操作: 任意のプレイヤーを再生
  - 期待: わずかな遅延後に同期処理が走る
- [ ] 7. 音量一括
  - 操作: スライダを 0/50/100 に変更
  - 期待: 全プレイヤーの音量が反映、表示が更新
- [ ] 8. 再生速度
  - 操作: 一括操作セクションの速度セレクトで 0.5x/1x/1.5x/2x を選択
  - 期待: 全プレイヤーの再生速度が反映される
- [ ] 9. 動画削除
  - 操作: タイルにホバーし表示される ✕ ボタンをクリック
  - 期待: プレイヤーが破棄・DOM削除され、永続化データも更新される
- [ ] 10. レスポンシブ
  - 操作: 横幅 480px / 768px / 1024px で確認
  - 期待: グリッド列数や余白がCSSに従って変化
- [ ] 11. エラー処理
  - 条件: 埋め込み不可・非公開等の動画
  - 期待: エラーメッセージがアラート表示
- [ ] 12. バッファリング/広告耐性
  - 条件: 2つ以上の動画を追加し、片方で意図的にバッファリング/広告を発生させる（ネットワーク制限や広告動画など）
  - 期待: 他の動画の再生は継続し、バッファリング/広告終了後に対象動画が自動で同期復帰する（時刻差が許容範囲内に戻る）
- [ ] 13. 動画検索導線
  - 操作: 検索UIでキーワード検索→候補から追加
  - 期待: 検索レスポンスが表示され、選択した動画が正しく読み込まれる
- [ ] 14. プリセット保存/読込
  - 操作: 現在の動画セットをプリセットに保存→別ページまたは新規タブで読込
  - 期待: プリセット情報が永続化され、読込時に同じ構成で復元される
- [ ] 15. レイアウトプリセット切替
  - 操作: ツールバーのレイアウト選択で「1列」「2列」「3列」「4列」「シアター」「自動」を切替
  - 期待: グリッド構成・タイルサイズが即時に変更され、再生状態が維持される。シアターモードでは先頭動画が大きく表示される
- [ ] 16. サイドバー折りたたみ
  - 操作: サイドバー左上の ◀ ボタンをクリック
  - 期待: サイドバーが閉じ、動画エリアが全幅に拡大。ツールバーに ☰ ボタンが表示され、クリックでサイドバー再表示。状態がリロード後も維持される
- [ ] 17. フルスクリーン
  - 操作: タイルにホバーし ⛶ ボタンをクリック / タイルをダブルクリック
  - 期待: 該当動画がフルスクリーンで表示される
- [ ] 18. 動画情報パネル（開閉）
  - 操作: タイル下部の動画タイトルバーをクリック
  - 期待: チャンネル名が表示される。APIキー設定時は概要も表示。再クリックで閉じる
- [ ] 19. ドラッグ＆ドロップで動画追加
  - 操作: ブラウザのタブやアドレスバーからYouTube URLをグリッドエリアにドロップ
  - 期待: ドロップ中にヒント表示。ドロップ後に動画が追加される
- [ ] 20. クリップボード貼り付けで動画追加
  - 操作: YouTube URLをコピーし、入力欄以外の場所で Ctrl+V
  - 期待: URLから動画IDが抽出され、タイルが追加される
- [ ] 21. 同期グループ切替
  - 操作: タイル左上の同期グループバッジ（A/B/C/独立）をクリック
  - 期待: グループが A→B→C→独立→A の順に切替。同一グループ内でのみ同期が機能し、「独立」は他動画と同期しない
- [ ] 22. プリセット可視化（サムネイル・削除）
  - 操作: プリセットを保存し、プリセット一覧を確認
  - 期待: サムネイル（最大3枚）、動画数、日付が表示。ホバーで ✕ ボタン表示、クリックで削除確認
- [ ] 23. キーボードショートカット
  - 操作: Space（再生/停止トグル）、M（ミュート）、U（ミュート解除）、F（先頭動画フルスクリーン）、S（同期）、Shift+1〜9（タイルフルスクリーン）
  - 期待: 入力欄フォーカス時以外で各ショートカットが機能する
- [ ] 24. オーディオフォーカス
  - 操作: タイルの動画エリアをクリック
  - 期待: クリックした動画のみ音声が再生され、他はミュートされる。再クリックで解除（全動画のミュート解除）
- [ ] 25. 字幕装飾プレビュー *(未実装 — 将来機能)*
  - 操作: 字幕装飾テンプレートを選択し再生
  - 期待: 字幕スタイルがプレビュー通りに適用され、アニメーションが滑らかに表示される
- [ ] 26. 自動チャプター生成 *(未実装 — 将来機能)*
  - 操作: 動画に対してAIチャプター生成を実行
  - 期待: チャプター一覧が生成され、チャプター選択で該当位置へ遷移する

## 既知の制約
- ブラウザの自動再生制限により、ユーザー操作がないと再生できない場合があります
- ネットワークや配信側の遅延により、完全一致の同期は保証されません（許容差内での同期を目標）

## 不具合報告
- バグを見つけた場合は `.gitlab/issue_templates/Bug.md` を使ってIssueを作成してください
